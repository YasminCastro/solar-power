// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id             Int              @id @default(autoincrement())
  name           String
  email          String           @unique
  password       String
  createdAt      DateTime         @default(now())
  inversors      Inversor[]
  powerGenerated PowerGenerated[]
}

model Inversor {
  id               Int              @id @default(autoincrement())
  createdAt        DateTime         @default(now())
  user             User             @relation(fields: [userId], references: [id])
  userId           Int
  name             String
  model            String
  url              String?
  username         String?
  password         String?
  powerGenerated   PowerGenerated[]
  active           Boolean          @default(true)
  cep              String
  lat              String
  long             String
  maxRealTimePower Int
}

model PowerGenerated {
  id              Int      @id @default(autoincrement())
  createdAt       DateTime @default(now())
  inversor        Inversor @relation(fields: [inversorId], references: [id])
  inversorId      Int
  user            User     @relation(fields: [userId], references: [id])
  userId          Int
  powerInRealTime String?
  powerToday      String
  powerMonth      String
  powerYear       String
  allPower        String
  co2             String?
  coal            String?
  tree            String?
  lat             String
  long            String
  localtime       String
  tempC           Float
  windKph         Float
  pressureIn      Float
  humidity        Float
  cloud           Float
  uv              Float
  precipMM        Float
}
